<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#000">
  <title>Training Split</title>
  <style>
    :root {
      --bg: #000;
      --surface: #0a0a0a;
      --surface-2: #111;
      --surface-3: #1a1a1a;
      --border: #222;
      --border-light: #333;
      --text: #fff;
      --text-2: #999;
      --text-3: #666;
      --green: #22c55e;
      --green-dim: rgba(34,197,94,0.1);
      --yellow: #eab308;
      --yellow-dim: rgba(234,179,8,0.1);
      --red: #ef4444;
      --red-dim: rgba(239,68,68,0.1);
      --purple: #a855f7;
      --purple-dim: rgba(168,85,247,0.1);
      --blue: #3b82f6;
      --blue-dim: rgba(59,130,246,0.1);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', system-ui, sans-serif;
      font-size: 15px;
      line-height: 1.5;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
    }

    /* Nav */
    nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(0,0,0,0.9);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      padding: 0 16px;
      display: flex;
      justify-content: center;
    }
    .nav-inner {
      display: flex;
      gap: 2px;
      max-width: 600px;
      width: 100%;
      overflow-x: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
      padding: 10px 0;
    }
    .nav-inner::-webkit-scrollbar { display: none; }
    nav a {
      flex: 1;
      text-align: center;
      color: var(--text-3);
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      padding: 8px 4px;
      border-radius: 8px;
      transition: all 0.15s;
      min-width: 44px;
    }
    nav a:hover { color: var(--text-2); background: var(--surface-2); }
    nav a.active { color: var(--text); background: var(--surface-3); }
    nav a:nth-child(1).active { color: #ef4444; } /* Mon */
    nav a:nth-child(2).active { color: #f97316; } /* Tue */
    nav a:nth-child(3).active { color: #eab308; } /* Wed */
    nav a:nth-child(4).active { color: #22c55e; } /* Thu */
    nav a:nth-child(5).active { color: #3b82f6; } /* Fri */
    nav a:nth-child(6).active { color: #8b5cf6; } /* Sat */
    nav a:nth-child(7).active { color: #ec4899; } /* Sun */

    /* Container */
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 0 12px 24px;
    }

    /* Day */
    .day {
      margin-top: 24px;
      border-radius: 12px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-left: 3px solid var(--day-accent, var(--border));
    }
    .day:first-child { margin-top: 16px; }
    .day[data-day="0"] { --day-accent: #ef4444; } /* Mon - Red */
    .day[data-day="1"] { --day-accent: #f97316; } /* Tue - Orange */
    .day[data-day="2"] { --day-accent: #eab308; } /* Wed - Yellow */
    .day[data-day="3"] { --day-accent: #22c55e; } /* Thu - Green */
    .day[data-day="4"] { --day-accent: #3b82f6; } /* Fri - Blue */
    .day[data-day="5"] { --day-accent: #8b5cf6; } /* Sat - Purple */
    .day[data-day="6"] { --day-accent: #ec4899; } /* Sun - Pink */
    .day-head {
      position: sticky;
      top: 54px;
      z-index: 50;
      background: #111;
      padding: 16px;
      border-radius: 12px 12px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border);
    }
    .day-head.stuck {
      box-shadow: 0 4px 12px rgba(0,0,0,0.8);
      border-radius: 0;
    }
    .day.active {
      border-color: var(--day-accent);
    }
    .day-title {
      font-size: 16px;
      font-weight: 700;
      letter-spacing: -0.3px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .day-title::before {
      content: '';
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--day-accent, var(--text-3));
    }
    .day.active .day-title::before {
      box-shadow: 0 0 6px var(--day-accent);
    }
    .day-title span {
      color: var(--text-2);
      font-weight: 400;
      margin-left: 2px;
    }
    .day-meta {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .day-tag {
      font-size: 10px;
      font-weight: 700;
      color: var(--green);
      background: var(--green-dim);
      padding: 4px 8px;
      border-radius: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .day-time {
      font-size: 12px;
      color: var(--text-3);
    }

    /* Exercise */
    .ex {
      padding: 14px 16px;
      border-bottom: 1px solid var(--border);
      background: var(--surface);
    }
    .ex:last-of-type { border-bottom: none; border-radius: 0 0 12px 12px; }
    .ex-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 6px;
    }
    .ex-name {
      font-weight: 600;
      font-size: 15px;
      line-height: 1.3;
    }
    .ex-sets {
      font-size: 12px;
      font-weight: 600;
      color: var(--yellow);
      background: var(--yellow-dim);
      padding: 4px 8px;
      border-radius: 4px;
      white-space: nowrap;
      flex-shrink: 0;
    }
    .ex-notes {
      font-size: 13px;
      color: var(--text-2);
      line-height: 1.5;
    }
    .cue { color: var(--green); }
    .warn { color: var(--yellow); }

    /* Badges */
    .badge {
      font-size: 10px;
      font-weight: 700;
      padding: 2px 5px;
      border-radius: 3px;
      margin-left: 6px;
      vertical-align: middle;
    }
    .b-ds { background: var(--red-dim); color: var(--red); }
    .b-rp { background: var(--purple-dim); color: var(--purple); }

    /* Alternatives */
    .alts {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 10px;
    }
    .alts span {
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 6px;
      background: var(--surface-2);
      color: var(--text-3);
      cursor: pointer;
      transition: all 0.15s;
      border: 1px solid transparent;
    }
    .alts span:hover { color: var(--text-2); background: var(--surface-3); }
    .alts span.on {
      color: var(--green);
      background: var(--green-dim);
      border-color: rgba(34,197,94,0.3);
    }

    /* Giant Set */
    .gi {
      border-left: 3px solid var(--purple);
      background: linear-gradient(90deg, var(--purple-dim) 0%, var(--bg) 50%);
    }
    .gi-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--purple);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 6px;
    }

    /* Intent */
    .intent {
      font-size: 11px;
      font-weight: 600;
      color: var(--blue);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 6px;
    }

    /* Calculator - collapsed by default */
    .calc {
      margin-top: 10px;
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transition: max-height 0.2s, opacity 0.2s, margin 0.2s;
    }
    .calc.open {
      max-height: 200px;
      opacity: 1;
    }
    .calc-inner {
      padding: 10px 12px;
      background: var(--surface-2);
      border-radius: 8px;
      border: 1px solid var(--border);
    }
    .calc-row {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .calc-input {
      width: 56px;
      padding: 6px 8px;
      font-size: 13px;
      font-weight: 600;
      background: var(--surface-3);
      border: 1px solid var(--border-light);
      border-radius: 4px;
      color: var(--text);
      text-align: center;
    }
    .calc-input:focus {
      outline: none;
      border-color: var(--text-3);
    }
    .calc-unit {
      font-size: 12px;
      color: var(--text-3);
    }
    .calc-result {
      display: flex;
      gap: 4px;
      align-items: center;
    }
    .calc-drop {
      padding: 4px 6px;
      background: var(--red-dim);
      border-radius: 3px;
      font-size: 10px;
      font-weight: 600;
    }
    .calc-drop-pct { color: var(--red); }
    .calc-drop-wt { color: var(--text); margin-left: 2px; }
    .rp-set {
      padding: 4px 6px;
      background: var(--purple-dim);
      border-radius: 3px;
      font-size: 10px;
      font-weight: 600;
      color: var(--text);
    }
    .rp-arrow { color: var(--text-3); font-size: 9px; }

    /* Tappable badge */
    .badge { cursor: pointer; transition: transform 0.1s; }
    .badge:active { transform: scale(0.95); }
    .badge.active { box-shadow: 0 0 0 2px currentColor; }

    /* Section */
    .section {
      margin-top: 12px;
      padding: 16px;
      border-radius: 12px;
      background: var(--surface);
      border: 1px solid var(--border);
    }
    .section-title {
      font-size: 11px;
      font-weight: 600;
      color: var(--text-3);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 12px;
    }
    .rule {
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
    }
    .rule:last-child { border-bottom: none; padding-bottom: 0; }
    .rule:first-of-type { padding-top: 0; }
    .rule-head {
      font-size: 14px;
      font-weight: 600;
      color: var(--blue);
      margin-bottom: 8px;
    }
    .rule-item {
      display: flex;
      gap: 8px;
      font-size: 13px;
      color: var(--text-2);
      padding: 4px 0;
    }
    .rule-item strong {
      color: var(--text);
      font-weight: 500;
    }

    /* Footer */
    footer {
      padding: 24px 16px;
      text-align: center;
      font-size: 12px;
      color: var(--text-3);
    }

    /* Desktop */
    @media (min-width: 768px) {
      nav { padding: 0 24px; }
      .nav-inner { padding: 12px 0; gap: 4px; }
      nav a { font-size: 14px; padding: 10px 16px; }
      .container { padding: 0 16px 32px; }
      .day { margin-top: 28px; }
      .day-head { padding: 18px 20px; top: 62px; }
      .day-title { font-size: 17px; }
      .ex { padding: 16px 20px; }
      .section { margin-top: 20px; padding: 20px; }
      .ex-name { font-size: 16px; }
      .ex-notes { font-size: 14px; }
    }

    /* Small mobile */
    @media (max-width: 380px) {
      nav a { font-size: 11px; padding: 6px 2px; }
      .day-head { padding: 12px 14px; }
      .day-title { font-size: 14px; }
      .ex { padding: 12px 14px; }
      .ex-name { font-size: 14px; }
      .ex-notes { font-size: 12px; }
    }
  </style>
</head>
<body>
<div id="root"></div>
<script>
const DATA={
  days:[
    {d:"Mon",t:"Chest + Delts",g:"Upper Chest",c:"25-40m",ex:[
      {s:"1×6-8 + 2×8-12",v:[
        ["Incline Barbell Press","30-35° bench. <span class='cue'>Medium grip—forearms vertical at bottom.</span> Touch just below clavicle. Don't lock out."],
        ["Smith Incline Press","Same 30-35° angle. Fixed bar path = safe failure."],
        ["Hammer Strength Incline","Plate-loaded. Adjust seat so handles align with upper chest."],
        ["Incline Dumbbell Press","30-35° bench. <span class='cue'>Neutral grip at bottom, rotate to pronated at top.</span>"]]},
      {s:"3×8-12",v:[
        ["Flat Barbell Bench","<span class='cue'>Medium grip—forearms vertical at bottom.</span> Slight arch. Drive through chest."],
        ["Hammer Strength Flat","Plate-loaded. Handles at nipple line."],
        ["Smith Flat Press","Fixed path. Set safeties 1\" above chest."],
        ["Flat Dumbbell Press","<span class='cue'>Neutral or 45° grip.</span> Full stretch at bottom."]]},
      {s:"3×12-15",b:"ds",v:[
        ["Low-to-High Cable Fly","<span class='cue'>D-handles, pulleys at lowest.</span> Arc to eye level. 2s squeeze."],
        ["Incline Dumbbell Fly","30° bench. <span class='cue'>Slight elbow bend.</span> Deep pec stretch."],
        ["Pec Deck","Handles at mid-chest. Squeeze 2s at contraction."],
        ["High-to-Low Cable Fly","<span class='cue'>Pulleys at top.</span> Cross at belly button."]]},
      {s:"5×12-20",b:"ds",v:[
        ["Dumbbell Lateral Raise","<span class='cue'>Thumbs slightly down, pinkies up.</span> Lead with elbows. <span class='warn'>15-20lb max.</span>"],
        ["Cable Lateral Raise","<span class='cue'>D-handle, cross behind body.</span> Constant tension."],
        ["Machine Lateral Raise","Fixed path = no cheating. Elbows into pads."],
        ["Seated Dumbbell Lateral","Sit on bench end. No momentum."]]}
    ]},
    {d:"Tue",t:"Back + Rear Delts",g:"Thickness",c:"25-40m",ex:[
      {s:"1×6-8 + 2×8-12",v:[
        ["Chest-Supported DB Row","Incline bench 30-45°. <span class='cue'>Neutral grip.</span> Full stretch, squeeze blades."],
        ["Hammer Strength Row","<span class='cue'>Neutral grip handles.</span> Chest on pad, drive elbows back."],
        ["T-Bar Row (V-Handle)","<span class='cue'>Neutral-grip V-handle.</span> Pull to lower chest."],
        ["Seal Row","Flat bench elevated. <span class='cue'>Overhand grip.</span> Zero momentum."]]},
      {s:"3×8-12",v:[
        ["Wide-Grip Lat Pulldown","<span class='cue'>Hands 6\" outside shoulders.</span> Lean 15°. Elbows to ribs."],
        ["Close-Grip Pulldown (V-Bar)","<span class='cue'>V-bar, neutral grip.</span> Pull to sternum."],
        ["Assisted Pull-Up","<span class='cue'>Wide overhand grip.</span> Full dead hang to chin over bar."],
        ["Neutral-Grip Pulldown","<span class='cue'>Parallel handles.</span> Easy on shoulders."]]},
      {s:"3×8-12",v:[
        ["Seated Cable Row (V-Bar)","<span class='cue'>Close-grip V-bar.</span> Pull to lower chest. Squeeze blades."],
        ["Machine Row","Chest on pad. <span class='cue'>Neutral or pronated handles.</span>"],
        ["Single-Arm Cable Row","<span class='cue'>D-handle.</span> Pull to hip pocket."],
        ["Hammer Strength Low Row","<span class='cue'>Neutral grip.</span> Drive elbows past torso."]]},
      {s:"3×10-12",i:"Upper Back",v:[
        ["Wide Cable Row","<span class='cue'>Lat bar, elbows flared 60°.</span> Pull to upper chest. Squeeze blades."],
        ["DB Row Elbows Flared","<span class='cue'>Elbow points OUT not back.</span> Targets mid traps/rhomboids."],
        ["Chest-Supported Wide Row","<span class='cue'>DBs with elbows flared 45-60°.</span> Pinch blades."],
        ["Wide Hammer Row","<span class='cue'>Wide handles, elbows out.</span>"]]},
      {s:"3×12-15",v:[
        ["Straight-Arm Pulldown (Rope)","<span class='cue'>Rope.</span> Pull to thighs, split at bottom."],
        ["Straight-Arm Pulldown (Bar)","<span class='cue'>Shoulder-width overhand.</span> Full stretch to hips."],
        ["Single-Arm Pulldown","<span class='cue'>D-handle.</span> Arc toward hip pocket."]]},
      {s:"3×12-20",b:"ds",v:[
        ["Rear Delt Fly (DBs)","Bent 45° or chest-supported. <span class='cue'>Pinkies lead.</span>"],
        ["Reverse Pec Deck","<span class='cue'>Handles, not pads.</span> 2s squeeze at back."],
        ["Face Pull","<span class='cue'>Rope, high pulley.</span> Externally rotate at end."],
        ["High Cable Rear Fly","<span class='cue'>Cables at head height, crossed.</span>"]]}
    ]},
    {d:"Wed",t:"Arms + Delts",g:"Pump",c:"20-30m",ex:[
      {s:"3×10-12",v:[
        ["Overhead Cable Extension (Rope)","<span class='cue'>Low pulley, face away.</span> Full stretch. Spread rope at top."],
        ["Overhead Cable Extension (EZ)","<span class='cue'>EZ-bar, narrow grip.</span> Elbows by ears."],
        ["Dual Cable Overhead Extension","<span class='cue'>D-handles, between stacks.</span>"],
        ["Seated Overhead DB Extension","<span class='cue'>Single DB, diamond grip.</span> Lower behind head."]]},
      {s:"3×10-12",b:"ds",v:[
        ["Tricep Pressdown (Straight Bar)","<span class='cue'>Overhand, shoulder-width.</span> Lock out HARD. Pin elbows."],
        ["Tricep Pressdown (V-Bar)","<span class='cue'>V-bar, neutral.</span> Heavier load. Full lockout."],
        ["Tricep Pressdown (Rope)","<span class='cue'>Rope.</span> Spread at bottom for lateral head."],
        ["Single-Arm Pressdown","<span class='cue'>D-handle.</span> Unilateral."]]},
      {s:"2×10-12",v:[
        ["Incline Dumbbell Curl","45-60° bench. <span class='cue'>Supinate as you curl.</span> Max long head stretch."],
        ["Bayesian Cable Curl","<span class='cue'>D-handle behind you.</span> Same stretch as incline."],
        ["Preacher Curl (EZ)","<span class='cue'>Narrow grip on inner angles.</span> Pad at armpit."]]},
      {s:"3×8-12",v:[
        ["EZ Bar Cable Curl","<span class='cue'>Narrow grip.</span> Full ROM + 4-5 partials."],
        ["Straight Bar Cable Curl","<span class='cue'>Shoulder-width.</span> Constant tension."],
        ["Machine Preacher Curl","Pad eliminates momentum. Full stretch."],
        ["Dumbbell Curl (Supinating)","<span class='cue'>Start neutral, rotate to supinated.</span>"]]},
      {s:"4×15-20",b:"ds",v:[
        ["Dumbbell Lateral Raise","<span class='cue'>Thumbs down.</span> Pump set. Chase the burn."],
        ["Cable Lateral Raise","<span class='cue'>Cross behind.</span> Constant tension."],
        ["Machine Lateral Raise","Zero cheating. Elbows into pads."],
        ["Leaning Cable Lateral","Lean 20° away. <span class='cue'>Brutal stretch.</span>"]]},
      {s:"3×12-15",v:[
        ["Machine Crunch","Ribs to hips. <span class='warn'>Light weight, feel abs.</span>"],
        ["Decline Crunch","Hands across chest. Curl up, don't sit up."],
        ["Ab Wheel Rollout","Stay tight. Don't let hips sag."]]}
    ]},
    {d:"Thu",t:"Legs",g:"Main Day",c:"15-30m",ex:[
      {s:"4×10-15",b:"rp",v:[
        ["Seated Leg Curl","Hams first. <span class='cue'>Toes pointed down.</span> Squeeze at contraction."],
        ["Lying Leg Curl","<span class='cue'>Hips flat—don't let them rise.</span> Toes down."],
        ["Single-Leg Lying Curl","Unilateral. Address imbalances."],
        ["Kneeling Leg Curl","<span class='cue'>Hip extended throughout.</span>"]]},
      {s:"1×8-12 + 2×10-15",v:[
        ["Leg Press","<span class='cue'>Feet shoulder-width, mid-height.</span> Don't lock knees. Full depth."],
        ["Belt Squat","Zero spinal load. <span class='cue'>Toes slightly out.</span> Full ROM."],
        ["Pendulum Squat","Arc motion allows deep ROM. <span class='cue'>Heels elevated if needed.</span>"],
        ["Hack Squat","<span class='cue'>Back flat, feet low.</span> Quad dominant."]]},
      {s:"3×8-12",v:[
        ["Belt Squat","Spine-safe volume. <span class='cue'>Wider stance = more adductors.</span>"],
        ["Single-Leg Press","<span class='cue'>Foot centered.</span> Address imbalances."],
        ["Lever Squat","<span class='cue'>Adjust shoulder pads.</span> Minimal back stress."],
        ["Smith Front Squat","<span class='cue'>Heels elevated 1-2\".</span> Upright torso."]]},
      {s:"3×12-15",b:"ds",v:[
        ["Leg Extension","<span class='cue'>Toes up.</span> Hold 1s at full contraction."],
        ["Single-Leg Extension","Feel the VMO."],
        ["Sissy Squat","<span class='cue'>Lean back, knees forward.</span> Deep quad stretch."]]},
      {s:"3×15-20",v:[
        ["Standing Calf Raise","<span class='cue'>Straight legs, big toe.</span> Gastroc focus."],
        ["Leg Press Calf Raise","<span class='cue'>Full 4s negative, 2s squeeze.</span>"],
        ["Smith Calf Raise","Heavy and stable. Full stretch."],
        ["Donkey Calf Raise","Bent at hips 90°."]]},
      {s:"3×10-15",v:[
        ["Lying Leg Raise","<span class='cue'>Lower back pressed into bench.</span> Curl pelvis up."],
        ["Captain's Chair Leg Raise","<span class='cue'>Round lower back, curl knees to chest.</span>"],
        ["Decline Crunch","Curl up, don't sit up."],
        ["Ab Wheel Rollout","<span class='cue'>Hollow body.</span>"]]}
    ]},
    {d:"Fri",t:"Push + Pull",g:"Pump",c:"20-30m",ex:[
      {s:"3×8-12",v:[
        ["Incline Barbell Press","2nd upper chest hit. <span class='cue'>30-35°, forearms vertical.</span>"],
        ["Smith Incline Press","Fixed path. Great for drop sets."],
        ["Incline Dumbbell Press","<span class='cue'>Neutral to pronated.</span> Touch DBs at top."],
        ["Hammer Strength Incline","Stable = push to failure safely."]]},
      {s:"3×12-15",b:"ds",v:[
        ["Cable Fly (Mid-Height)","<span class='cue'>Pulleys at chest height.</span> Different angle than Monday."],
        ["Pec Deck","Squeeze 2s at contraction."],
        ["Flat Dumbbell Fly","<span class='cue'>Slight elbow bend.</span> Deep stretch."],
        ["High-to-Low Cable Fly","<span class='cue'>Pulleys high.</span> Lower chest emphasis."]]},
      {s:"3×10-15/side",v:[
        ["Single-Arm Lat Pulldown","<span class='cue'>D-handle.</span> Pull to HIP POCKET. Lower lat sweep."],
        ["Close-Grip Pulldown","<span class='cue'>V-bar.</span> Pull to sternum."],
        ["Straight-Arm Pulldown","<span class='cue'>Rope, split at bottom.</span>"]]},
      {s:"3×12-15",v:[
        ["Chest-Supported DB Row","<span class='cue'>Neutral grip.</span> Lighter—pump work."],
        ["Machine Row","Easy drop sets."],
        ["Seated Cable Row","<span class='cue'>V-bar.</span> Squeeze blades."],
        ["Single-Arm DB Row","Full stretch to hip."]]},
      {s:"15-20 each",gi:true,v:[
        ["Lateral + Rear Fly Giant Set","<span class='cue'>DBs for both.</span> Laterals → Rear fly. ×3 rounds, 60-90s rest."]]}
    ]},
    {d:"Sat",t:"Weak Points",g:"Recovery",c:"15-20m",ex:[
      {s:"2×12-15",v:[
        ["Seated Leg Curl","<span class='cue'>Toes down.</span> Blood flow—keep it light."],
        ["Lying Leg Curl","Feel the squeeze."],
        ["Single-Leg Curl","Address imbalances."]]},
      {s:"2×12-15",v:[
        ["Leg Extension","<span class='cue'>Toes up.</span> Light. Maintenance."],
        ["Single-Leg Extension","Feel the VMO."],
        ["Sissy Squat","Bodyweight only."]]},
      {s:"4×15-20",v:[
        ["Calf Raises","Alternate seated/standing weekly."],
        ["Seated Calf Raise","<span class='cue'>Bent knee = soleus.</span> 2s holds."],
        ["Standing Calf Raise","<span class='cue'>Straight leg = gastroc.</span>"]]},
      {s:"3×15-20",v:[
        ["Rear Delt Fly (DBs)","3rd session. <span class='cue'>Pinkies lead.</span>"],
        ["Face Pull","<span class='cue'>High pulley.</span> Light. External rotate."],
        ["Reverse Pec Deck","Constant tension."]]},
      {s:"3×30s",v:[
        ["Stomach Vacuum","<span class='cue'>Exhale fully, pull navel to spine.</span> Hold."],
        ["Vacuum + Front Double Bi","Hold vacuum while posing."],
        ["Vacuum + Side Chest","Gut in, twist toward mirror."]]}
    ]},
    {d:"Sun",t:"Delts + Arms",g:"Frequency",c:"20-30m",ex:[
      {s:"5×12-20",b:"ds",v:[
        ["Dumbbell Lateral Raise","<span class='cue'>Thumbs down, pinkies up.</span> 4th side delt session."],
        ["Cable Lateral Raise","<span class='cue'>Cross behind.</span> Go light, go long."],
        ["Machine Lateral Raise","No cheating. High reps."],
        ["Leaning Cable Lateral","<span class='cue'>Brutal stretch at bottom.</span>"]]},
      {s:"3×10-12",v:[
        ["Overhead Cable Extension (Rope)","<span class='cue'>Face away.</span> Long head stretch."],
        ["Overhead Cable Extension (EZ)","Elbows by ears."],
        ["Seated Overhead DB Extension","<span class='cue'>Diamond grip.</span> Lower behind head."]]},
      {s:"3×10-12",b:"ds",v:[
        ["Tricep Pressdown (Rope)","<span class='cue'>Spread at bottom.</span> Pump finisher."],
        ["Tricep Pressdown (V-Bar)","Heavier load option."],
        ["Single-Arm Pressdown","Unilateral."]]},
      {s:"2×10-12",v:[
        ["Incline Dumbbell Curl","<span class='cue'>45°, supinate at top.</span> Long head stretch."],
        ["Bayesian Cable Curl","<span class='cue'>D-handle behind you.</span>"],
        ["Preacher Curl (EZ)","Pad at armpit height."]]},
      {s:"3×10-12",v:[
        ["Cable Curl (EZ Bar)","<span class='cue'>Narrow grip.</span> Constant tension."],
        ["Straight Bar Cable Curl","Great pump."],
        ["Hammer Curl","<span class='cue'>Neutral grip.</span> Brachialis."]]},
      {s:"4×15-20",v:[
        ["Standing Calf Raise","<span class='cue'>Big toe emphasis.</span> 2nd session."],
        ["Seated Calf Raise","<span class='cue'>Bent knee, soleus.</span>"],
        ["Leg Press Calf Raise","Control the negative."]]},
      {s:"3×30s",v:[
        ["Stomach Vacuum","Hold longer each week."],
        ["Vacuum + Poses","Cycle through mandatories."],
        ["Breathing Vacuum","Shallow breaths while holding."]]}
    ]}
  ],
  rules:[
    {t:"Warm-Up",items:[
      ["First lift","20 → 12 → 8 → 4 reps (feeder sets)"],
      ["Work sets","RPE 9-10 top set, then back-offs"]
    ]},
    {t:"Intensity Techniques",items:[
      ["<span class='badge b-ds'>DS</span> Drop Set","Drop 20-30%, immediately go to failure"],
      ["<span class='badge b-rp'>RP</span> Rest-Pause","10 reps → 15s → 5 reps → 15s → 3 reps"]
    ]},
    {t:"Rest Periods",items:[
      ["Compounds","90-120 seconds"],
      ["Isolation","45-75 seconds"],
      ["Deload","Every 6-8 weeks, reduce volume 50%"]
    ]},
    {t:"Weekly Frequency",items:[
      ["Upper chest","2×/wk (Mon, Fri)"],
      ["Side delts","4×/wk (Mon, Wed, Fri, Sun)"],
      ["Rear delts","3×/wk (Tue, Fri, Sat)"],
      ["Arms","2×/wk (Wed, Sun)"],
      ["Calves","2×/wk (Thu, Sun)"]
    ]},
    {t:"Missed Day",items:[
      ["7-day split","No dedicated makeup—swap or skip"],
      ["Miss Mon-Thu","Shift remaining days forward"],
      ["Miss Fri-Sun","Skip it, start fresh Monday"]
    ]}
  ]
};

function calcDropSet(weight) {
  if (!weight || weight <= 0) return [];
  return [
    { pct: 20, wt: Math.round(weight * 0.8 / 5) * 5 },
    { pct: 30, wt: Math.round(weight * 0.7 / 5) * 5 },
    { pct: 40, wt: Math.round(weight * 0.6 / 5) * 5 }
  ];
}

function calcRestPause(reps) {
  const r = reps || 10;
  return [r, Math.round(r * 0.5), Math.round(r * 0.3)];
}

function render() {
  const root = document.getElementById('root');

  const nav = `<nav><div class="nav-inner">${DATA.days.map((d,i) =>
    `<a href="#d${i}">${d.d}</a>`
  ).join('')}<a href="#rules">?</a></div></nav>`;

  const days = DATA.days.map((day, di) => `
    <div class="day" id="d${di}" data-day="${di}">
      <div class="day-head">
        <div class="day-title">${day.d} <span>· ${day.t}</span></div>
        <div class="day-meta">
          <span class="day-tag">${day.g}</span>
          <span class="day-time">${day.c}</span>
        </div>
      </div>
      ${day.ex.map((ex, ei) => {
        const v = ex.v[0];
        const badge = ex.b ? `<span class="badge b-${ex.b}">${ex.b.toUpperCase()}</span>` : '';
        const giClass = ex.gi ? ' gi' : '';
        const giLabel = ex.gi ? '<div class="gi-label">Giant Set ×3</div>' : '';
        const intent = ex.i ? `<div class="intent">${ex.i}</div>` : '';

        // Add calculator for DS or RP (collapsed by default)
        let calc = '';
        if (ex.b === 'ds') {
          calc = `
            <div class="calc" data-type="ds">
              <div class="calc-inner">
                <div class="calc-row">
                  <input type="number" class="calc-input" placeholder="lbs" min="0" step="5">
                  <span class="calc-unit">→</span>
                  <div class="calc-result">
                    <span class="calc-drop"><span class="calc-drop-pct">-20%</span></span>
                    <span class="calc-drop"><span class="calc-drop-pct">-30%</span></span>
                    <span class="calc-drop"><span class="calc-drop-pct">-40%</span></span>
                  </div>
                </div>
              </div>
            </div>`;
        } else if (ex.b === 'rp') {
          calc = `
            <div class="calc" data-type="rp">
              <div class="calc-inner">
                <div class="calc-row">
                  <input type="number" class="calc-input" placeholder="reps" min="1" max="30" value="10">
                  <span class="calc-unit">→</span>
                  <div class="calc-result">
                    <span class="rp-set">100%</span>
                    <span class="rp-arrow">15s</span>
                    <span class="rp-set">50%</span>
                    <span class="rp-arrow">15s</span>
                    <span class="rp-set">30%</span>
                  </div>
                </div>
              </div>
            </div>`;
        }

        return `
          <div class="ex${giClass}" data-d="${di}" data-e="${ei}">
            ${giLabel}${intent}
            <div class="ex-top">
              <span class="ex-name">${v[0]}</span>
              <span class="ex-sets">${ex.s}${badge}</span>
            </div>
            <p class="ex-notes">${v[1]}</p>
            ${ex.v.length > 1 ? `<div class="alts">${ex.v.map((a, ai) =>
              `<span${ai === 0 ? ' class="on"' : ''} data-i="${ai}">${a[0]}</span>`
            ).join('')}</div>` : ''}
            ${calc}
          </div>`;
      }).join('')}
    </div>
  `).join('');

  const rules = `
    <div class="section" id="rules">
      <div class="section-title">Training Rules</div>
      ${DATA.rules.map(r => `
        <div class="rule">
          <div class="rule-head">${r.t}</div>
          ${r.items.map(i => `
            <div class="rule-item"><strong>${i[0]}:</strong> ${i[1]}</div>
          `).join('')}
        </div>
      `).join('')}
    </div>
  `;

  const footer = `<footer>Train hard. Recover smart.</footer>`;

  root.innerHTML = `${nav}<div class="container">${days}${rules}</div>${footer}`;

  // Exercise swap
  document.querySelector('.container').addEventListener('click', e => {
    if (!e.target.matches('.alts span')) return;
    const ex = e.target.closest('.ex');
    const di = +ex.dataset.d, ei = +ex.dataset.e, ai = +e.target.dataset.i;
    const v = DATA.days[di].ex[ei].v[ai];
    ex.querySelector('.ex-name').textContent = v[0];
    ex.querySelector('.ex-notes').innerHTML = v[1];
    ex.querySelectorAll('.alts span').forEach(s => s.classList.remove('on'));
    e.target.classList.add('on');
  });

  // Badge click to toggle calculator
  document.querySelectorAll('.badge').forEach(badge => {
    badge.addEventListener('click', e => {
      e.stopPropagation();
      const ex = badge.closest('.ex');
      const calc = ex.querySelector('.calc');
      if (calc) {
        calc.classList.toggle('open');
        badge.classList.toggle('active');
        if (calc.classList.contains('open')) {
          calc.querySelector('.calc-input').focus();
        }
      }
    });
  });

  // Calculator handlers
  document.querySelectorAll('.calc').forEach(calc => {
    const input = calc.querySelector('.calc-input');
    const result = calc.querySelector('.calc-result');
    const type = calc.dataset.type;

    const updateCalc = () => {
      const val = parseFloat(input.value) || 0;

      if (type === 'ds') {
        const drops = calcDropSet(val);
        if (val > 0) {
          result.innerHTML = drops.map(d => `
            <span class="calc-drop">
              <span class="calc-drop-pct">-${d.pct}%</span>
              <span class="calc-drop-wt">${d.wt}</span>
            </span>
          `).join('');
        } else {
          result.innerHTML = `
            <span class="calc-drop"><span class="calc-drop-pct">-20%</span></span>
            <span class="calc-drop"><span class="calc-drop-pct">-30%</span></span>
            <span class="calc-drop"><span class="calc-drop-pct">-40%</span></span>
          `;
        }
      } else if (type === 'rp') {
        const r = Math.round(val) || 10;
        const reps = calcRestPause(r);
        result.innerHTML = `
          <span class="rp-set">${reps[0]}</span>
          <span class="rp-arrow">15s</span>
          <span class="rp-set">${reps[1]}</span>
          <span class="rp-arrow">15s</span>
          <span class="rp-set">${reps[2]}</span>
        `;
      }
    };

    input.addEventListener('input', updateCalc);
  });

  // Highlight active nav and day on scroll
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const id = entry.target.id;
        // Update nav
        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        const activeLink = document.querySelector(`nav a[href="#${id}"]`);
        if (activeLink) activeLink.classList.add('active');
        // Update active day
        document.querySelectorAll('.day').forEach(d => d.classList.remove('active'));
        entry.target.classList.add('active');
      }
    });
  }, { threshold: 0.3, rootMargin: '-60px 0px -60% 0px' });

  document.querySelectorAll('.day').forEach(day => observer.observe(day));

  // Detect sticky headers
  const navHeight = window.innerWidth >= 768 ? 62 : 54;
  const stickyObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      const dayHead = entry.target.querySelector('.day-head');
      if (dayHead) {
        // When the top of the day card goes above the nav, the header is stuck
        if (!entry.isIntersecting && entry.boundingClientRect.top < navHeight) {
          dayHead.classList.add('stuck');
        } else {
          dayHead.classList.remove('stuck');
        }
      }
    });
  }, { threshold: 0, rootMargin: `-${navHeight}px 0px 0px 0px` });

  document.querySelectorAll('.day').forEach(day => stickyObserver.observe(day));
}

render();
</script>
</body>
</html>
